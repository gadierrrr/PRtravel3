/* Root design tokens */
:root {
  --color-bg: #f7f3ec;
  --color-surface: #ffffff;
  --color-ink: #0b2d4d;
  --color-ink-soft: #375b7d;
  --color-border: #c7d2dc;
  --color-border-strong: #8aa1b4;
  --color-accent: #ff7a18;
  --color-accent-hover: #ff8f3d;
  --color-accent-active: #e86200;
  --color-focus: #ffb347;
  --home-deal-card-bg: #FECFBF; /* updated brand card background */
  --shadow-sm: 0 2px 4px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 12px rgba(0,0,0,0.10);
  --radius-xs: 4px;
  --radius-sm: 8px;
  --radius: 14px;
  --radius-pill: 999px;
  --gradient-hero: linear-gradient(135deg,#0b2d4d 0%,#14639a 55%,#1f7cb3 100%);
  --transition-fast: 120ms cubic-bezier(.4,0,.2,1);
  --transition-slow: 260ms cubic-bezier(.4,0,.2,1);
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.5rem;
  --space-6: 2rem;
  --font-stack: system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial,sans-serif;
}

/* Base resets */
* { box-sizing: border-box; }
body { margin:0; background:var(--color-bg); color:var(--color-ink); font-family:var(--font-stack); line-height:1.5; -webkit-font-smoothing:antialiased; }
a { color:var(--color-accent); text-decoration:none; }
a:hover { color:var(--color-accent-hover); }
a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible { outline:3px solid var(--color-focus); outline-offset:2px; border-radius:var(--radius-sm); }

/* Header */
.site-header { position:sticky; top:0; z-index:10; display:flex; flex-wrap:wrap; gap:var(--space-3); justify-content:space-between; align-items:center; padding:var(--space-3) var(--space-5); background:var(--gradient-hero); color:#fff; border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius); box-shadow:var(--shadow-md); }
.site-header .branding { font-weight:700; letter-spacing:.5px; font-size:1.15rem; }
.site-header a { color:#fff; font-weight:500; margin-left:var(--space-3); }
.site-header a.cta { background:var(--color-accent); padding:0.55rem 0.95rem; border-radius:var(--radius-pill); line-height:1; box-shadow:0 2px 6px rgba(0,0,0,0.25); }
.site-header a.cta:hover { background:var(--color-accent-hover); }
.site-header form.inline-form { display:inline; }
.nav-cats { display:flex; align-items:center; flex-wrap:wrap; gap:var(--space-2); }
.nav-cats a { padding:0.35rem 0.75rem; border-radius:var(--radius-pill); font-size:0.85rem; background:rgba(255,255,255,0.08); backdrop-filter:blur(2px); }
.nav-cats a.active { background:rgba(255,255,255,0.28); font-weight:600; }

/* Hero */
.hero { padding:4rem 1.25rem 3rem; text-align:center; background:var(--gradient-hero); color:#fff; border-bottom-left-radius:var(--radius); border-bottom-right-radius:var(--radius); box-shadow:var(--shadow-md); }
.hero h1 { margin:0 0 .6rem; font-size:2.4rem; letter-spacing:.5px; }
.hero p { margin:0 0 1.25rem; font-size:1.05rem; opacity:0.95; }

/* Buttons */
.btn, button, input[type=submit] { --btn-bg: var(--color-accent); --btn-bg-hover: var(--color-accent-hover); --btn-bg-active: var(--color-accent-active); cursor:pointer; border:none; background:var(--btn-bg); color:#fff; padding:0.7rem 1.15rem; font-weight:600; border-radius:var(--radius-pill); font-size:0.95rem; display:inline-flex; align-items:center; gap:0.5ch; transition:background var(--transition-fast), transform var(--transition-fast), box-shadow var(--transition-fast); box-shadow:0 2px 4px rgba(0,0,0,0.15); }
.btn:hover, button:hover, input[type=submit]:hover { background:var(--btn-bg-hover); }
.btn:active, button:active, input[type=submit]:active { background:var(--btn-bg-active); transform:translateY(1px); }
.btn[disabled], button[disabled] { opacity:.55; cursor:not-allowed; }

/* Layout containers */
.container { max-width:1200px; margin:0 auto; padding:var(--space-5) var(--space-4) var(--space-6); }

/* Cards grid */
.grid { --col-min:220px; display:grid; gap:1.25rem; grid-template-columns:repeat(auto-fit,minmax(var(--col-min),1fr)); margin-top:2rem; }
.card { position:relative; background:var(--color-surface); border-radius:var(--radius); padding:0.75rem 0.75rem 1rem; box-shadow:var(--shadow-sm); display:flex; flex-direction:column; min-height:100%; text-decoration:none; color:inherit; transition: box-shadow var(--transition-fast), transform var(--transition-fast); }
/* Home page deal cards only */
.grid > .card { background: var(--home-deal-card-bg); }
.card:focus-visible { outline:3px solid var(--color-focus); outline-offset:3px; }
.card:hover { box-shadow:var(--shadow-md); transform:translateY(-2px); }
.card img { width:100%; border-radius:var(--radius); aspect-ratio:4/3; object-fit:cover; margin-bottom:0.6rem; background:#d0d7de; }
.card h3 { margin:0 0 0.35rem; font-size:1.05rem; letter-spacing:.3px; }
.price { font-weight:600; color:var(--color-ink-soft); margin:.15rem 0 .4rem; }
.teaser { font-size:0.85rem; margin:0; color:var(--color-ink-soft); opacity:.9; }
.price-highlight { font-weight:700; font-size:1.25rem; color:var(--color-accent); margin-top:.25rem; }
.list-price { text-decoration:line-through; color:var(--color-ink-soft); font-size:0.9rem; margin:0 0 .15rem; opacity:.85; }
.price-block { display:flex; flex-direction:column; align-items:flex-start; margin:.5rem 0 1rem; }
.discount { background:var(--color-accent); color:#fff; font-size:0.65rem; letter-spacing:.5px; padding:0.2rem 0.45rem; border-radius:var(--radius-pill); margin-left:0.4rem; vertical-align:middle; }
.badge { position:absolute; top:0.6rem; left:0.6rem; background:rgba(11,45,77,0.85); color:#fff; padding:0.25rem 0.55rem; font-size:0.6rem; text-transform:uppercase; letter-spacing:.8px; border-radius:var(--radius-pill); font-weight:600; }
.badge.big { position:static; margin:0.25rem 0 0; background:var(--color-ink); }
.merchant { font-size:0.7rem; text-transform:uppercase; letter-spacing:1px; color:var(--color-ink-soft); margin:-0.2rem 0 .4rem; }
.rating { font-size:0.75rem; font-weight:600; margin:0 0 .5rem; color:var(--color-ink-soft); }
.rating .rcount { font-weight:400; opacity:.65; margin-left:0.25rem; }
.promo { background:#ffe8d6; padding:0.5rem 0.75rem; border-radius:var(--radius-sm); font-size:0.75rem; margin:0.6rem 0 0.8rem; color:#7a3d00; }
.time-left { font-size:0.65rem; background:#fff3e0; padding:0.25rem 0.5rem; border-radius:var(--radius-pill); letter-spacing:.5px; }
/* Admin thumb */
.admin-thumb { max-width:180px; border-radius:var(--radius); display:block; margin:0 0 .5rem; box-shadow:var(--shadow-sm); }

/* Deal Detail */
.deal-detail { max-width:860px; margin:2rem auto; background:var(--color-surface); padding:1.6rem 1.9rem 2.2rem; border-radius:var(--radius); box-shadow:var(--shadow-md); }
.deal-detail .hero-img { width:100%; border-radius:var(--radius); margin:0 0 1rem; aspect-ratio:4/2.1; object-fit:cover; background:#d0d7de; }
.deal-detail .meta { font-size:0.8rem; letter-spacing:.5px; text-transform:uppercase; color:var(--color-ink-soft); margin-top:1rem; }

/* Forms */
form label { display:block; margin:0 0 .85rem; font-size:0.85rem; font-weight:500; }
input, select, textarea { font:inherit; width:100%; padding:0.6rem 0.75rem; border:1px solid var(--color-border); border-radius:var(--radius-sm); background:#fff; transition:border-color var(--transition-fast), box-shadow var(--transition-fast); }
input:focus, select:focus, textarea:focus { border-color:var(--color-ink-soft); box-shadow:0 0 0 3px rgba(255,122,24,0.25); outline:none; }

/* Inline forms (header logout) */
form.inline-form button { padding:0.4rem 0.9rem; font-size:0.75rem; }

/* Admin table */
table { border-collapse:separate; border-spacing:0; width:100%; }
table thead th { text-align:left; font-size:0.7rem; text-transform:uppercase; letter-spacing:.8px; font-weight:600; padding:0.65rem 0.75rem; background:var(--color-ink); color:#fff; position:sticky; top:0; }
table tbody td { padding:0.55rem 0.75rem; font-size:0.85rem; background:var(--color-surface); border-bottom:1px solid var(--color-border); }
table tbody tr:hover td { background:#f0ece6; }
table tbody tr:last-child td { border-bottom:none; }
table tbody td:first-child { border-left:1px solid var(--color-border); }
table tbody td:last-child { border-right:1px solid var(--color-border); }
table thead th:first-child { border-top-left-radius:var(--radius-sm); }
table thead th:last-child { border-top-right-radius:var(--radius-sm); }

/* Utility */
.spacer { flex:1; }
.muted { color:var(--color-ink-soft); opacity:.8; }

/* Accessibility: reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after { animation-duration:0.01ms !important; animation-iteration-count:1 !important; transition:none !important; scroll-behavior:auto !important; }
  .card:hover { transform:none; }
}

/* Responsive breakpoint */
@media (min-width: 768px) {
  .hero { padding:5rem 1.5rem 4rem; }
  .hero h1 { font-size:3rem; }
  .nav-cats a { font-size:0.8rem; }
}

/* Dark-ish focus contrast for buttons on gradient */
.site-header a:focus-visible { outline-color:#fff; }

/* Minimal-but-fun additions */
:root{
  --fun-yellow: #FFD56B; /* subtle highlight */
  --fun-green: #14B8A6;  /* sale hint */
  --card: var(--color-surface);
  --text-blue: var(--color-ink);
  --r-xl: 28px;
  --r-lg: 18px;
}

/* Hero subline */
.hero-lede {
  color: #fff;
  font-weight: 600;
  letter-spacing: 0.2px;
  margin-top: .25rem;
  opacity: .95;
}

/* Category pills */
.pill { 
  display:inline-block; padding:.25rem .6rem; border-radius:999px;
  font-size:.8rem; line-height:1; background:#fff; color: var(--text-blue);
}
.pill.off { background: #fff; color:#0F172A; border:1px solid rgba(0,0,0,.06); }
.pill.off::before { content: "â¬‡ "; opacity:.7; }

/* Ticker */
.ticker { 
  font-size:.85rem; color: var(--color-ink); opacity:.7; margin-top:.5rem;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
@media (prefers-reduced-motion: no-preference){
  .ticker { animation: tick 14s linear infinite; }
  @keyframes tick { from { transform: translateX(0); } to { transform: translateX(-10%); } }
}

/* Spotlight card */
.spotlight {
  display:grid; grid-template-columns: 1.2fr 1fr; gap: 1rem;
  background: var(--card); border-radius: var(--r-xl); padding: 1rem;
  box-shadow: 0 10px 30px rgba(10,38,255,0.08);
  margin:2rem 0 1rem;
}
.spotlight img { width:100%; height:100%; object-fit:cover; border-radius: var(--r-lg); }

/* Tiny sticker */
.sticker { 
  position:absolute; top:.6rem; left:.6rem;
  background: var(--fun-yellow); color:#111; padding:.35rem .5rem; 
  border-radius: 12px; font-weight:700; font-size:.8rem;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
}

/* Emoji on cards */
.emoji-pill { font-size:1.05rem; margin-right:.35rem; }

/* Price styling */
.price-now { color: var(--fun-green); font-weight:700; }
.price-was { color: #6B7280; text-decoration: line-through; margin-left:.35rem; }

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .ticker, .spotlight:hover { animation: none !important; }
}

/* === THEME V2 TOKENS & COMPONENTS (APPENDED) === */
:root {
  --bg-cream: #FEF7EF;
  --ink: #053347;
  --ink-muted: #5B6A72;
  --border-soft: #E6E2DD;
  --hero-teal-start: #004F63;
  --hero-teal-end: #007A87;
  --accent-orange: #FF7A1A;
  --accent-orange-hover: #E86407;
  --accent-orange-soft: #FFE1CC;
  --badge-orange-bg: #FFF1E6;
  --badge-orange-text: #C55300;
  --pill-bg: #E7F1F2;
  --pill-active-bg: #C7E3E7;
  --pill-text: #094F5A;
  --price-now: #004F63;
  --price-was: #8A979E;
  --discount-pill-bg: #FFE1CC;
  --discount-pill-text: #B95000;
  --card-radius-lg: 22px;
  --card-shadow: 0 6px 18px rgba(0,0,0,.07);
  --focus-ring: 0 0 0 3px rgba(0,123,255,.35);
}

body { background: var(--bg-cream); }

.site-header-v2 { background:#fff; color:var(--ink); box-shadow:0 2px 6px rgba(0,0,0,0.06); }
.site-header-v2 a { color:var(--ink); }
.site-header-v2 .brand-mark { font-weight:700; font-size:1.05rem; letter-spacing:.5px; }

.hero-v2 { background:linear-gradient(135deg,var(--hero-teal-start),var(--hero-teal-end)); color:#fff; border-radius:var(--card-radius-lg); padding:3rem 3.5rem 3.25rem; box-shadow:var(--card-shadow); }
@media (max-width:640px){ .hero-v2 { padding:2rem 1.5rem 2.25rem; } }

.filters-bar { display:flex; gap:.5rem; flex-wrap:wrap; margin:1rem 0 1.25rem; }
.filters-bar .pill { background:var(--pill-bg); color:var(--pill-text); padding:.45rem .9rem; border-radius:999px; font-size:.8rem; font-weight:600; line-height:1; box-shadow:0 2px 4px rgba(0,0,0,0.05); }
.filters-bar .pill:hover { background:var(--pill-active-bg); }
.filters-bar .pill.active { background:var(--pill-active-bg); }

.deal-grid { display:grid; gap:1.35rem; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); margin-top:2.25rem; }
.deal-card-v2 { background:#fff; border-radius:var(--card-radius-lg); box-shadow:var(--card-shadow); overflow:hidden; display:flex; flex-direction:column; position:relative; }
.deal-card-v2 .media { position:relative; }
.deal-card-v2 .media img { width:100%; height:200px; object-fit:cover; display:block; }
@media (min-width:900px){ .deal-card-v2 .media img { height:180px; } }
.discount-badge { position:absolute; top:10px; left:10px; background:var(--badge-orange-bg); color:var(--badge-orange-text); font-size:.70rem; font-weight:700; padding:.3rem .55rem; border-radius:14px; letter-spacing:.5px; }
.deal-card-v2 .body { padding:1rem 1.1rem 1.25rem; display:flex; flex-direction:column; }
.deal-card-v2 .title { font-size:1.05rem; font-weight:700; margin:0 0 .45rem; color:var(--ink); }
.deal-card-v2 .teaser { margin:0 0 .65rem; font-size:.83rem; color:var(--ink-muted); }
.price-row-v2 { display:flex; align-items:center; gap:.55rem; font-size:.9rem; margin-bottom:.8rem; }
.price-row-v2 .now { color:var(--price-now); font-weight:700; }
.price-row-v2 .was { color:var(--price-was); text-decoration:line-through; }
.price-row-v2 .pct { background:var(--discount-pill-bg); color:var(--discount-pill-text); padding:.2rem .5rem; border-radius:999px; font-weight:600; font-size:.65rem; letter-spacing:.5px; }

.btn-cta-orange { background:var(--accent-orange); color:#fff; text-decoration:none; padding:.55rem 1.1rem; font-weight:700; border-radius:999px; display:inline-block; font-size:.85rem; transition:background .15s; box-shadow:0 2px 4px rgba(0,0,0,0.15); }
.btn-cta-orange:hover { background:var(--accent-orange-hover); }
.btn-cta-orange:focus-visible { outline:var(--focus-ring); }

.promo-note { margin-top:.6rem; font-size:.7rem; color:var(--ink-muted); }

/* Accessibility: Ensure focus for new pills/cards */
.filters-bar .pill:focus-visible, .deal-card-v2 a:focus-visible, .btn-cta-orange:focus-visible { outline:3px solid var(--color-focus); outline-offset:2px; }

